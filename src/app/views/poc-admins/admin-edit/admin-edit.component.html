<h2>{{ 'adminEdit.headline' | translate }}</h2>

<mat-card>
    <mat-card-content>
      <form [formGroup]="form" *ngIf="form" fxLayout="column" fxLayoutGap="1rem">
          
        <div gdColumns="1fr 1fr" gdGap="1rem 2rem">
            <div fxLayout>
                <mat-form-field fxFlex>
                    <input matInput placeholder="{{ 'pocAdmin.firstName' | translate }}" formControlName="firstName">
                    <mat-error *ngIf="form.get('firstName').errors">
                        {{ 'adminEdit.validationErrors.firstName' | translate }}
                      </mat-error>
                </mat-form-field>
            </div>
            <div fxLayout>
                <mat-form-field fxFlex>
                    <input matInput placeholder="{{ 'pocAdmin.lastName' | translate }}" formControlName="lastName">
                    <mat-error *ngIf="form.get('lastName').errors">
                        {{ 'adminEdit.validationErrors.lastName' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxLayout>
              <app-mat-datepicker *ngIf="localeService.current$ | async as locale"
                formControlName="dateOfBirth" 
                [displayFormat]="locale.dateFormat"
                [placeholder]="getBirthDayLabel(locale.datePlaceholder)"
                [max]="'now'"
                [language]="locale.language"
                [invalidMessage]="'adminEdit.validationErrors.dateOfBirth'"
            >
            </app-mat-datepicker>
            </div>
            <div fxLayout>
                <mat-form-field fxFlex>
                    <input matInput placeholder="{{ 'pocAdmin.email' | translate }}" formControlName="email">
                    <mat-error *ngIf="form.get('email').errors">
                        {{ 'adminEdit.validationErrors.email' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
            <div fxLayout>
                <mat-form-field fxFlex>
                    <input matInput placeholder="{{ 'pocAdmin.phone' | translate }}" formControlName="phone">
                    <mat-hint>ie. +49123456789 or 0049123456789</mat-hint>
                    <mat-error *ngIf="form.get('phone').errors">
                        {{ 'adminEdit.validationErrors.phone' | translate }}
                    </mat-error>
                </mat-form-field>
            </div>
        </div>

        <div fxLayout="column" fxLayoutGap="1rem" class="actions">
            <button mat-raised-button 
                class="mat-btn-big"
                color="primary" 
                (click)="submitForm()" 
                [disabled]="form.invalid || form.pending">{{ 'global.update' | translate }}</button>
            <button mat-raised-button (click)="backToList()">
                <mat-icon aria-hidden="false" aria-label="Import pocs">chevron_left</mat-icon>
                {{ 'global.cancel' | translate }}
            </button>
        </div>
      </form>
    </mat-card-content>

</mat-card>